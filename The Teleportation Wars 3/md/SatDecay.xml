<?xml version="1.0" encoding="utf-8"?>
<mdscript name="TradeSatelliteDecay" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="md.xsd">
  <cues>
    <cue name="SatDecayOnLaunch" instantiate="true" namespace="this">
      <conditions>
        <event_satellite_launched space="player.galaxy" />
        <check_value value="event.param2.isplayerowned" />
      </conditions>
      <actions>
        <signal_cue cue="SatDecay" />
      </actions>
    </cue>
    <cue name="SatDecay" instantiate="true" namespace="this">
      <conditions>
        <event_cue_signalled />
      </conditions>
      <actions>
        <set_value name="$space" exact="player.galaxy" />
        <do_if value="event.param">
          <set_value name="$space" exact="event.param" />
        </do_if>
        <find_object macro="macro.eq_arg_satellite_09_macro" owner="faction.player" multiple="true" groupname="$tradesatdecay" space="$space" />
        <remove_value name="$space" />
        <do_if value="$tradesatdecay.count >= 8">
          <signal_cue_instantly cue="Satboom_8" param="event.param" />
        </do_if>
        <do_if value="$tradesatdecay.count == 7">
          <signal_cue_instantly cue="Satboom_7" param="event.param" />
        </do_if>
        <do_if value="$tradesatdecay.count == 6">
          <signal_cue_instantly cue="Satboom_6" param="event.param" />
        </do_if>
        <do_if value="$tradesatdecay.count == 5">
          <signal_cue_instantly cue="Satboom_5" param="event.param" />
        </do_if>
        <do_if value="$tradesatdecay.count == 4">
          <signal_cue_instantly cue="Satboom_4" param="event.param" />
        </do_if>
        <do_if value="$tradesatdecay.count == 3">
          <signal_cue_instantly cue="Satboom_3" param="event.param" />
        </do_if>
        <do_if value="$tradesatdecay.count == 2">
          <signal_cue_instantly cue="Satboom_2" param="event.param" />
        </do_if>
      </actions>
    </cue>
    <cue name="Satboom_2" instantiate="true" namespace="this">
      <conditions>
        <event_cue_signalled />
      </conditions>
      <delay exact="24h" />
      <actions>
        <set_value name="$space" exact="player.galaxy" />
        <do_if value="event.param">
          <set_value name="$space" exact="event.param" />
        </do_if>
        <find_object macro="macro.eq_arg_satellite_09_macro" owner="faction.player" multiple="true" groupname="$tradesatdecay" space="$space" />
        <do_if value="$tradesatdecay.count">
          <destroy_object object="$tradesatdecay.random" />
        </do_if>
      </actions>
    </cue>
    <cue name="Satboom_3" instantiate="true" namespace="this">
      <conditions>
        <event_cue_signalled />
      </conditions>
      <delay exact="12h" />
      <actions>
        <set_value name="$space" exact="player.galaxy" />
        <do_if value="event.param">
          <set_value name="$space" exact="event.param" />
        </do_if>
        <find_object macro="macro.eq_arg_satellite_09_macro" owner="faction.player" multiple="true" groupname="$tradesatdecay" space="$space" />
        <do_if value="$tradesatdecay.count">
          <destroy_object object="$tradesatdecay.random" />
        </do_if>
      </actions>
    </cue>
    <cue name="Satboom_4" instantiate="true" namespace="this">
      <conditions>
        <event_cue_signalled />
      </conditions>
      <delay exact="6h" />
      <actions>
        <set_value name="$space" exact="player.galaxy" />
        <do_if value="event.param">
          <set_value name="$space" exact="event.param" />
        </do_if>
        <find_object macro="macro.eq_arg_satellite_09_macro" owner="faction.player" multiple="true" groupname="$tradesatdecay" space="$space" />
        <do_if value="$tradesatdecay.count">
          <destroy_object object="$tradesatdecay.random" />
        </do_if>
      </actions>
    </cue>
    <cue name="Satboom_5" instantiate="true" namespace="this">
      <conditions>
        <event_cue_signalled />
      </conditions>
      <delay exact="3h" />
      <actions>
        <set_value name="$space" exact="player.galaxy" />
        <do_if value="event.param">
          <set_value name="$space" exact="event.param" />
        </do_if>
        <find_object macro="macro.eq_arg_satellite_09_macro" owner="faction.player" multiple="true" groupname="$tradesatdecay" space="$space" />
        <do_if value="$tradesatdecay.count">
          <destroy_object object="$tradesatdecay.random" />
        </do_if>
      </actions>
    </cue>
    <cue name="Satboom_6" instantiate="true" namespace="this">
      <conditions>
        <event_cue_signalled />
      </conditions>
      <delay exact="90min" />
      <actions>
        <set_value name="$space" exact="player.galaxy" />
        <do_if value="event.param">
          <set_value name="$space" exact="event.param" />
        </do_if>
        <find_object macro="macro.eq_arg_satellite_09_macro" owner="faction.player" multiple="true" groupname="$tradesatdecay" space="$space" />
        <do_if value="$tradesatdecay.count">
          <destroy_object object="$tradesatdecay.random" />
        </do_if>
      </actions>
    </cue>
    <cue name="Satboom_7" instantiate="true" namespace="this">
      <conditions>
        <event_cue_signalled />
      </conditions>
      <delay exact="30min" />
      <actions>
        <set_value name="$space" exact="player.galaxy" />
        <do_if value="event.param">
          <set_value name="$space" exact="event.param" />
        </do_if>
        <find_object macro="macro.eq_arg_satellite_09_macro" owner="faction.player" multiple="true" groupname="$tradesatdecay" space="$space" />
        <do_if value="$tradesatdecay.count">
          <destroy_object object="$tradesatdecay.random" />
        </do_if>
      </actions>
    </cue>
    <cue name="Satboom_8" instantiate="true" namespace="this">
      <conditions>
        <event_cue_signalled />
      </conditions>
      <delay exact="5min" />
      <actions>
        <set_value name="$space" exact="player.galaxy" />
        <do_if value="event.param">
          <set_value name="$space" exact="event.param" />
        </do_if>
        <find_object macro="macro.eq_arg_satellite_09_macro" owner="faction.player" multiple="true" groupname="$tradesatdecay" space="$space" />
        <do_if value="$tradesatdecay.count">
          <destroy_object object="$tradesatdecay.random" />
        </do_if>
      </actions>
    </cue>
  </cues>
</mdscript>